SPI（service provider interface）：winsock2服务提供商接口。
SPI是应用程序使用的服务，本身不是应用程序，作用是向加载这个服务的应用程序导出自己。
由两部分组成：传输服务提供商（transport service provider）和命名空间服务提供商（name space provider）
传输服务提供商：
  提供建立连接，传输数据，流控制，出错控制等服务
  两种类型：基础、分层
  基础服务提供商：BSP，实现传输协议真正细节，导出winsock接口，直接实现协议
  分层服务提供商：LSP，截取来自应用程序的winsock API调用。实现更高层的定制通信函数，依靠现存的底层基础服务
  提供商来与远程终端做实际的数据交换
命名空间提供商：
  与LSP类型，截获名称，解析winsock API调用。在命名空间目录安装自己，当应用程序执行名字解析时将会被调用


SPI提供三种协议：
1. 分层协议
	在基础协议的上层，依靠底层基础协议实现更高级的通信服务
2. 基础协议
	能够独立安全地和远端终端实现数据通信的协议，这是相对于分层协议而言的
3. 协议链
	将一系列的基础协议、分层协议按特定的顺序连接在一起的链状结构

协议特性：
  winsock用SWAPROTOCOL_INFO结构描述特定协议的完整信息。称为一个winsock目录入口。
  有两个标识：
  1. ProviderId：服务提供商提供的全局唯一标识
  2. dwCatalogEntryId：每个SWAPROTOCOL_INFO结构安排的唯一标识，称为目录入口ID

  
IFS LSP(分层服务提供商)
non-IFS LSP

安装LSP时，必须在winsock目录中安装以下两种协议：
分层协议，协议链
分层协议是为了获取winsock库分配的目录ID，在协议链中标识自己的位置
协议链是winsock目录中LSP的真正入口，链中包含了自己分层协议的目录ID号和下层提供商的目录ID号