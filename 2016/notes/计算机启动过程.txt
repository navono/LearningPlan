第一阶段：BIOS
1.1 硬件自检（Power-On Self-Test）
1.2 启动顺序。BIOS需要有一个外部存储设备的排序，排在前面的设备就是优先转交控制权的设备。

第二阶段：主引导记录
按照“启动顺序”，把控制权转交给排在第一位的存储设备（引导设备）。
读取改设备的第一个扇区，也就是最前面的512字节（Master Boot Record，MBR）。如果这512字节的
最后两个字节是0x55和0xAA，表明这个设备可以用于启动，否则控制权被转交给“顺序启动“的下一个设备

2.1 主引导记录结构
由三个部分组成：
1. 第1-446字节：调用操作系统的机器码
2. 第447-510字节：分区表（partition table），将磁盘分成若干分区
3. 第511-512字节：主引导记录签名（0x55和0xAA）

2.2 分区表
分成四项，每项16字节，因此一个磁盘最多只能分四个一级分区，叫着“主分区”。
每个分区可以安装不同的操作系统，“主引导记录”因此必须知道将控制权转交给哪个分区

每个主分区16字节，由六个部分组成：
1. 第1个字节：如果为0x80，表明该主分区是激活分区，控制权要转交给这个分区。
   四个分区里面只能有一个是激活的
2. 第2-4字节：主分区第一个扇区的物理地址（柱面、磁头、扇区号等）
3. 第5字节：主分区类型
4. 第6-8字节：主分区最后一个扇区的物理地址
5. 第9-12字节：该主分区第一个扇区的逻辑地址
6. 第13-16字节：主分区的扇区总数

最后4字节决定了该主分区的长度，也就是扇区总数最多不超过2的32次方。

第三阶段：硬盘启动
MBR将控制权转交给硬盘的某个分区时，有三种情况。
3.1 情况A：卷引导记录
计算机读取激活分区的第一个扇区，这个扇区叫做“卷引导记录（Volume Boot Record，VBR）”。
作用是告诉计算机，操作系统在这个分区的位置。

3.2 情况B：扩展分区和逻辑分区
硬盘的大小可能会超过四个主分区，但是分区表只有四项，因此规定有且只有一个分区可以被定义成“扩展分区”（Extended partition）。
扩展分区又可以分成多个区，这种类型的分区叫做“逻辑分区”（Logical partition）

计算机先读取扩展分区的第一个扇区，叫着”扩展引导记录“（Extended Boot Record，EBR）。里面也包含了一张64字节的分区表，但是
最多只有两项（两个逻辑分区）

计算机会读取第二个逻辑分区的第一个扇区，再从里面的分区表找到第三个逻辑分区的位置，以此类推，直到某个逻辑分区的分区表
只包含自身为止。

3.3 情况C：启动管理器
在这种情况下，计算机读取“主引导记录”前面的446字节的机器码后，不再把控制权转交给某一个分区，而是运行事先安装的“启动管理器”
boot loader，由用户选择启动哪一个操作系统。

第四阶段：操作系统
控制权转交给操作系统后，操作系统的内核首先被加载到内存。
接下来是各个操作系统不同的启动阶段了。